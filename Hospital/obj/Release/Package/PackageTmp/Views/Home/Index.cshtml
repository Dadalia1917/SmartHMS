
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}
@model IEnumerable<Hospital.Models.Doctor>
<div class="main-content">
    <div class="page-content">
        <div class="container-fluid">
            <!-- 开始页面标题 -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box d-flex align-items-center justify-content-between">
                        <h4 class="mb-0 font-size-18">主页</h4>
                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item"><a href="javascript: void(0);">位置</a></li>
                                <li class="breadcrumb-item active">主页</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 结束页面标题 -->
            <div class="row">
                <div class="col-xl-3 col-md-6">
                    <div class="card card-animate">
                        <div class="card-body">
                            <div class="avatar-sm float-right">
                                <span class="avatar-title bg-soft-primary rounded-circle">
                                    <i class="bx bx-layer m-0 h3 text-primary"></i>
                                </span>
                            </div>
                            <h6 class="text-muted text-uppercase mt-0">医院科室共</h6>
                            <h3 class="my-3"> @ViewBag.k 个</h3>
                            
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="card card-animate">
                        <div class="card-body">
                            <div class="avatar-sm float-right">
                                <span class="avatar-title bg-soft-primary rounded-circle">
                                    <i class="bx bx-dollar-circle m-0 h3 text-primary"></i>
                                </span>
                            </div>
                            <h6 class="text-muted text-uppercase mt-0">本月患者数</h6>
                            <h3 class="my-3"> @ViewBag.z 人</h3>

                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="card card-animate">
                        <div class="card-body">
                            <div class="avatar-sm float-right">
                                <span class="avatar-title bg-soft-primary rounded-circle">
                                    <i class="bx bx-analyse m-0 h3 text-primary"></i>
                                </span>
                            </div>
                            <h6 class="text-muted text-uppercase mt-0">门诊患者总数</h6>
                            <h3 class="my-3"><span data-plugin="counterup">@ViewBag.meng 人</span></h3>

                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="card card-animate">
                        <div class="card-body">
                            <div class="avatar-sm float-right">
                                <span class="avatar-title bg-soft-primary rounded-circle">
                                    <i class="bx bx-basket m-0 h3 text-primary"></i>
                                </span>
                            </div>
                            <h6 class="text-muted text-uppercase mt-0">住院患者总数</h6>
                            <h3 class="my-3" data-plugin="counterup">@ViewBag.zhuyuan 人</h3>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end row -->

            <div class="row">

                <div class="col-lg-8">
                    <div class="card card-animate">
                        <div class="card-body">
                             <!--折线图容器-->
                            <h4 class="card-title d-inline-block">年度患者总览</h4>
                            <div id="morris-line-example" class="morris-chart" style="height: 320px;"></div>
                            <input id="Hidden1" type="hidden" value="99" />
                            <div class="row text-center mt-4">
                            </div>
                        </div>
                    </div>
                </div> <!-- end col -->

                <div class="col-lg-4">
                    <div class="card card-animate">
                        <div class="card-body">
                            
                            <h4 class="card-title d-inline-block">人员概况总览</h4>
                            <!--饼状图容器-->
                            <div id="morris-donut-example" class="morris-chart" style="height: 320px;"></div>
                        </div>
                    </div>
                </div> <!-- end col -->
            </div>
            <!-- end row-->

            <div class="row">
                <div class="col-lg-4">
                    <div class="card card-animate">
                        <div class="card-body">
                            <div class="dropdown float-right position-relative">
                                <a href="#" class="dropdown-toggle h4 text-muted" data-toggle="dropdown"
                                   aria-expanded="false">
                                    <i class="mdi mdi-dots-vertical"></i>
                                </a>
                                
                            </div>
                            <h4 class="card-title d-inline-block mb-3">医生风采</h4>
                            
                            <div data-simplebar style="max-height: 380px;">
                                @foreach (var item in Model)
                                {
                                    <a href="#" class="d-flex align-items-center border-bottom py-3">
                                        <div class="mr-3">
                                            <img src="~/images/Doctor/@item.Yphoto" class="rounded-circle avatar-sm" alt="user">
                                        </div>
                                        <div class="w-100">
                                            <div class="d-flex justify-content-between">
                                                <h6 class="mb-1">@item.Yname</h6>
                                                <p class="text-muted font-size-11 mb-0">@item.Bumen.Bname</p>
                                            </div>
                                            <p class="text-muted font-size-13 mb-0">@item.Yjianjie</p>
                                        </div>
                                    </a>
                                }



                            </div>

                        </div>
                    </div>
                </div> <!-- end col -->

                <div class="col-lg-8">
                    <div class="card card-animate">
                        <div class="card-body">
                            <div class="dropdown float-right position-relative">
                                <a href="#" class="dropdown-toggle h4 text-muted" data-toggle="dropdown"
                                   aria-expanded="false">
                                    <i class="mdi mdi-dots-vertical"></i>
                                </a>
                                
                            </div>
                            <h4 class="card-title d-inline-block">挂号预约未就诊患者</h4>

                            <div class="table-responsive">
                                <table class="table table-borderless table-hover mb-0">
                                    <thead class="thead-light">
                                        <tr>
                                            <th>挂号编号</th>
                                            <th>姓名</th>
                                            <th>手机号</th>
                                            <th>性别</th>
                                            <th>挂号时间</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in ViewBag.h)
                                        {
                                            <tr>
                                                <th>@item.Gid</th>
                                                <td>@item.Gname</td>
                                                <td>@item.GPhone</td>
                                                <td>@item.GSex</td>
                                                <td>@item.Gtime</td>
                                            </tr>
                                        }

                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div> <!-- end col -->

            </div>
            <!-- end row-->

        </div> <!-- container-fluid -->
    </div>
    <!-- End Page-content -->

</div>
<!-- end main content-->
<script>
    $(function () {
        "use strict"; $("#morris-donut-example").length && Morris.Donut(
            {
                element: "morris-donut-example",
                resize: !0, backgroundColor: "transparent",
                colors: ["#574bd6", "#6d61ea", "#877de8"],
                data: [{ label: "在职员工", value: @ViewBag.zaizhi },
                { label: "休假员工", value: @ViewBag.xiujia },
                    { label: "辞职员工", value:@ViewBag.lizhi }]
            }),
            $("#morris-line-example").length && Morris.Line(
                {
                    element: "morris-line-example",
                    gridLineColor: "#eef0f2",
                    lineColors: ["#f15050", "#6d61ea"],
                    data: [
                       
                        { y: "2018", a: 0, b: 0 },
                        { y: "2019", a: 0, b: 0 },
                        { y: "2020", a: 0, b: 0 },
                        { y: "2021", a: @ViewBag.meng, b: @ViewBag.zhuyuan },
                        { y: "2022", a: 0, b: 0 },
                        { y: "2023", a: 0, b: 0 }],

                    xkey: "y",
                    ykeys: ["a", "b"],
                    hideHover: "auto",
                    resize: !0,
                    labels: ["门诊患者", "住院患者"]
                })
    });
</script>
